<!DOCTYPE html>
<html lang="mr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡§ö‡§Ç‡§™‡§æ‡§µ‡§§‡•Ä ‡§Æ‡•ã‡§π‡•ã‡§§‡•ç‡§∏‡§µ ‡§¨‡•Ä‡§° 2026 - ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Noto Sans Devanagari', Arial, sans-serif;
background-image: url('https://i.postimg.cc/V6q2qfwV/natraj.webp');
background-repeat: repeat;
background-size: 200px 200px;
background-position: center;
min-height: 100vh;
position: relative;
}

.overlay {
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(255, 255, 255, 0.12);
backdrop-filter: blur(3px);
z-index: -1;
}

.container {
max-width: 850px;
margin: 0 auto;
padding: 20px;
display: flex;
flex-direction: column;
align-items: center;
min-height: 100vh;
position: relative;
z-index: 1;
}

.header {
width: 100%;
height: 220px;
background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,255,255,0.92));
border-radius: 20px;
margin-bottom: 30px;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 0 15px 40px rgba(0,0,0,0.25);
border: 1px solid rgba(255,255,255,0.5);
}

.logo-placeholder {
width: 160px;
height: 160px;
background: linear-gradient(135deg, #f8f9fa, #e9ecef);
border-radius: 50%;
display: flex;
flex-direction: column;
align-items: center;
justify-content: center;
font-size: 15px;
color: #495057;
border: 5px dashed #dee2e6;
font-weight: 500;
text-align: center;
}

.form-container {
width: 100%;
background: rgba(255, 255, 255, 0.98);
padding: 45px;
border-radius: 25px;
box-shadow: 0 25px 50px rgba(0,0,0,0.2);
backdrop-filter: blur(20px);
border: 2px solid rgba(255,255,255,0.6);
position: relative;
overflow: hidden;
}

.form-container::before {
content: '';
position: absolute;
top: 0;
left: 0;
right: 0;
height: 6px;
background: linear-gradient(90deg, #e74c3c, #f39c12, #27ae60, #3498db);
background-size: 300% 100%;
animation: gradientShift 4s ease infinite;
}

@keyframes gradientShift {
0%, 100% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
}

.form-title {
text-align: center;
color: #2c3e50;
font-size: 32px;
margin-bottom: 35px;
font-weight: bold;
text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
}

.form-group {
margin-bottom: 28px;
position: relative;
}

label {
display: block;
margin-bottom: 10px;
font-weight: 600;
color: #34495e;
font-size: 16px;
}

input[type="text"], input[type="tel"], select, textarea {
width: 100%;
padding: 16px 18px;
border: 2px solid #e1e8ed;
border-radius: 12px;
font-size: 16px;
transition: all 0.3s ease;
background: #f8f9fa;
font-family: inherit;
}

input:focus, select:focus, textarea:focus {
outline: none;
border-color: #3498db;
box-shadow: 0 0 0 4px rgba(52, 152, 219, 0.15);
background: white;
transform: translateY(-1px);
}

.required { color: #e74c3c; font-size: 18px; margin-left: 4px; }
.error { border-color: #e74c3c !important; background: #fdf2f2; box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.15); }
.error-message { color: #e74c3c; font-size: 14px; margin-top: 6px; display: none; font-weight: 500; }
.note {
background: #e8f4fd;
border-left: 4px solid #3498db;
padding: 12px 16px;
border-radius: 8px;
font-size: 14px;
color: #2c3e50;
margin-top: 8px;
font-weight: 500;
}
.relation-hint {
background: #fff3cd;
border-left: 4px solid #f39c12;
padding: 10px 14px;
border-radius: 6px;
font-size: 14px;
color: #856404;
margin-top: 6px;
font-style: italic;
}

.submit-btn {
width: 100%;
padding: 20px;
background: linear-gradient(135deg, #27ae60, #2ecc71);
color: white;
border: none;
border-radius: 15px;
font-size: 20px;
font-weight: bold;
cursor: pointer;
transition: all 0.3s ease;
text-transform: uppercase;
letter-spacing: 1.5px;
box-shadow: 0 8px 20px rgba(46, 204, 113, 0.3);
}

.submit-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(46, 204, 113, 0.45); }
.submit-btn:active { transform: translateY(-1px); }
.submit-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

.popup-overlay {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
backdrop-filter: blur(10px);
z-index: 1000;
justify-content: center;
align-items: center;
animation: fadeInOverlay 0.3s ease;
}

.popup-overlay.show { display: flex; }

@keyframes fadeInOverlay {
from { opacity: 0; }
to { opacity: 1; }
}

.popup-content {
background: linear-gradient(135deg, #fff, #f8f9fa);
max-width: 600px;
width: 90%;
max-height: 80vh;
border-radius: 25px;
padding: 40px;
text-align: center;
box-shadow: 0 30px 60px rgba(0,0,0,0.4);
transform: scale(0.7);
animation: popupSlideIn 0.4s ease forwards;
border: 3px solid #27ae60;
position: relative;
overflow-y: auto;
}

@keyframes popupSlideIn {
to {
transform: scale(1);
}
}

.success-icon {
width: 80px;
height: 80px;
background: linear-gradient(135deg, #27ae60, #2ecc71);
border-radius: 50%;
margin: 0 auto 25px;
display: flex;
align-items: center;
justify-content: center;
font-size: 40px;
color: white;
box-shadow: 0 10px 30px rgba(46, 204, 113, 0.4);
}

.success-title {
color: #e74c3c;
font-size: 28px;
font-weight: bold;
margin-bottom: 15px;
text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
}

.success-subtitle {
color: #27ae60;
font-size: 18px;
margin-bottom: 30px;
font-weight: 500;
}

.pdf-section {
background: linear-gradient(135deg, #f8f9fa, #e9ecef);
padding: 25px;
border-radius: 20px;
margin: 25px 0;
border-left: 5px solid #3498db;
}

.pdf-title {
color: #2c3e50;
font-size: 22px;
font-weight: bold;
margin-bottom: 15px;
}

.pdf-desc {
color: #555;
font-size: 16px;
margin-bottom: 25px;
line-height: 1.6;
}

.pdf-download-btn {
display: inline-block;
padding: 18px 40px;
background: linear-gradient(135deg, #27ae60, #2ecc71);
color: white;
text-decoration: none;
border-radius: 15px;
font-size: 20px;
font-weight: bold;
text-transform: uppercase;
letter-spacing: 1px;
box-shadow: 0 10px 25px rgba(46, 204, 113, 0.4);
transition: all 0.3s ease;
border: none;
cursor: pointer;
}

.pdf-download-btn:hover {
transform: translateY(-3px);
box-shadow: 0 15px 35px rgba(46, 204, 113, 0.5);
color: white;
text-decoration: none;
}

.close-popup {
position: absolute;
top: 20px;
right: 25px;
background: #e74c3c;
color: white;
border: none;
width: 40px;
height: 40px;
border-radius: 50%;
font-size: 20px;
cursor: pointer;
display: flex;
align-items: center;
justify-content: center;
transition: all 0.3s ease;
}

.close-popup:hover {
background: #c0392b;
transform: scale(1.1);
}

.conditional-field { display: none; }
.show { display: block; animation: fadeIn 0.6s ease; }

@keyframes fadeIn {
from { opacity: 0; transform: translateY(15px); }
to { opacity: 1; transform: translateY(0); }
}

@media (max-width: 768px) {
body { background-size: 120px 120px; }
.container { padding: 15px; }
.form-container { padding: 30px 25px; }
.popup-content { padding: 30px 25px; margin: 20px; }
}

.loading {
display: none;
text-align: center;
color: #27ae60;
font-weight: bold;
margin-top: 10px;
}
</style>
</head>
<body>
<div class="overlay"></div>

<div class="container">
<div class="header">
<div class="logo-placeholder">
‡§≤‡•ã‡§ó‡•ã ‡§á‡§•‡•á ‡§Ö‡§™‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ<br>
<small>(160x160px)</small>
</div>
</div>

<div class="form-container">
<h1 class="form-title">‡§ö‡§Ç‡§™‡§æ‡§µ‡§§‡•Ä ‡§Æ‡•ã‡§π‡•ã‡§§‡•ç‡§∏‡§µ ‡§¨‡•Ä‡§° 2026<br><small style="font-size: 18px; font-weight: 400;">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä</small></h1>

<form id="registrationForm" novalidate>
<div class="form-group">
<label for="schoolName">‡§∂‡§æ‡§≥‡•á‡§ö‡•á ‡§®‡§æ‡§µ <span class="required">*</span></label>
<input type="text" id="schoolName" name="schoolName" required>
<div class="error-message" id="schoolNameError">‡§∂‡§æ‡§≥‡•á‡§ö‡•á ‡§®‡§æ‡§µ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á.</div>
</div>

<div class="form-group">
<label for="competition">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡•á‡§ö‡•á ‡§®‡§æ‡§µ <span class="required">*</span></label>
<select id="competition" name="competition" required onchange="handleCompetitionChange()">
<option value="">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ ‡§®‡§ø‡§µ‡§°‡§æ</option>
<option value="dance">‡§®‡•É‡§§‡•ç‡§Ø ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ</option>
<option value="solo_drama">‡§è‡§ï‡§™‡§æ‡§§‡•ç‡§∞‡•Ä ‡§Ö‡§≠‡§ø‡§®‡§Ø ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ</option>
<option value="singing">‡§ó‡•Ä‡§§ ‡§ó‡§æ‡§Ø‡§® ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ</option>
<option value="painting">‡§ö‡§ø‡§§‡•ç‡§∞‡§ï‡§≤‡§æ ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ</option>
<option value="rangoli">‡§∞‡§æ‡§Ç‡§ó‡•ã‡§≥‡•Ä ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ</option>
</select>
<div class="error-message" id="competitionError">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡•á‡§ö‡•á ‡§®‡§æ‡§µ ‡§®‡§ø‡§µ‡§°‡§æ.</div>
</div>

<div class="form-group conditional-field" id="danceTypeField">
<label for="danceType">‡§®‡•É‡§§‡•ç‡§Ø ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡•á‡§ö‡•á ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ <span class="required">*</span></label>
<select id="danceType" name="danceType" onchange="handleDanceTypeChange()">
<option value="">‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ</option>
<option value="solo">‡§∏‡•ã‡§≤‡•ã ‡§®‡•É‡§§‡•ç‡§Ø</option>
<option value="group">‡§ó‡•ç‡§∞‡•Å‡§™ ‡§®‡•É‡§§‡•ç‡§Ø</option>
<option value="duet">‡§ú‡•ã‡§°‡•Ä‡§®‡•É‡§§‡•ç‡§Ø</option>
<option value="family">‡§ï‡•Å‡§ü‡•Å‡§Ç‡§¨ ‡§®‡•É‡§§‡•ç‡§Ø</option>
</select>
<div class="error-message" id="danceTypeError">‡§®‡•É‡§§‡•ç‡§Ø ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§®‡§ø‡§µ‡§°‡§æ.</div>
</div>

<div class="form-group conditional-field" id="ageGroupField">
<label for="ageGroup">‡§µ‡§Ø‡•ã‡§ó‡§ü <span class="required">*</span></label>
<select id="ageGroup" name="ageGroup">
<option value="">‡§µ‡§Ø‡•ã‡§ó‡§ü ‡§®‡§ø‡§µ‡§°‡§æ</option>
<option value="1-3">‡§á‡§Ø‡§§‡•ç‡§§‡§æ 1‡§≤‡•Ä ‡§§‡•á 3‡§∞‡•Ä</option>
<option value="4-6">‡§á‡§Ø‡§§‡•ç‡§§‡§æ 4‡§•‡•Ä ‡§§‡•á 6‡§µ‡•Ä</option>
<option value="7-10">‡§á‡§Ø‡§§‡•ç‡§§‡§æ 7‡§µ‡•Ä ‡§§‡•á 10‡§µ‡•Ä</option>
</select>
<div class="error-message" id="ageGroupError">‡§µ‡§Ø‡•ã‡§ó‡§ü ‡§®‡§ø‡§µ‡§°‡§æ.</div>
</div>

<div class="form-group conditional-field" id="songLyricsField">
<label for="songLyrics">‡§ó‡§æ‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ‡§¨‡•ã‡§≤ <span class="required">*</span></label>
<textarea id="songLyrics" name="songLyrics" rows="4" placeholder="‡§ó‡§æ‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§¨‡•ã‡§≤ ‡§á‡§•‡•á ‡§≤‡§ø‡§π‡§æ..."></textarea>
<div class="error-message" id="songLyricsError">‡§ó‡§æ‡§£‡•ç‡§Ø‡§æ‡§ö‡•á ‡§¨‡•ã‡§≤ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á‡§§.</div>
</div>

<!-- ‡§ï‡•Å‡§ü‡•Å‡§Ç‡§¨ ‡§®‡•É‡§§‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§®‡§æ‡§§‡•á ‡§´‡•Ä‡§≤‡•ç‡§° -->
<div class="form-group conditional-field" id="participantRelationField">
<label for="participantRelation">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§ö‡•á ‡§®‡§æ‡§§‡•á <span class="required">*</span></label>
<input type="text" id="participantRelation" name="participantRelation" required placeholder="‡§â‡§¶‡§æ: ‡§Ü‡§à-‡§µ‡§°‡•Ä‡§≤, ‡§ï‡§æ‡§ï‡§æ-‡§ï‡§æ‡§ï‡•Ç...">
<div class="relation-hint">
üí° ‡§â‡§¶‡§æ‡§π‡§∞‡§£: ‡§Ü‡§à-‡§µ‡§°‡•Ä‡§≤, ‡§ï‡§æ‡§ï‡§æ-‡§ï‡§æ‡§ï‡•Ç, ‡§≠‡§æ‡§ä-‡§¨‡§π‡•Ä‡§£, ‡§Ü‡§ú‡•Ä-‡§Ü‡§ú‡•ã‡§¨‡§æ ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§á‡§§‡§∞ ‡§ï‡•ã‡§£‡§§‡•á‡§π‡•Ä ‡§®‡§æ‡§§‡•á
</div>
<div class="error-message" id="participantRelationError">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§ö‡•á ‡§®‡§æ‡§§‡•á ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á.</div>
</div>

<div class="form-group">
<label for="participantName">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§ö‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§®‡§æ‡§µ <span class="required">*</span></label>
<input type="text" id="participantName" name="participantName" required>
<div class="note">
üìù <strong>‡§®‡•ã‡§Ç‡§¶:</strong> ‡§ï‡•Å‡§ü‡•Å‡§Ç‡§¨ ‡§®‡•É‡§§‡•ç‡§Ø, ‡§ú‡•ã‡§°‡•Ä‡§®‡•É‡§§‡•ç‡§Ø ‡§ï‡§ø‡§Ç‡§µ‡§æ ‡§ú‡•ã‡§°‡•Ä‡§§‡•Ä‡§≤ ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§æ ‡§Ö‡§∏‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§¶‡•ã‡§®‡•ç‡§π‡•Ä ‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§Ç‡§ö‡•Ä ‡§®‡§æ‡§µ‡•á ‡§á‡§•‡•á ‡§≤‡§ø‡§π‡§æ (‡§â‡§¶‡§æ: ‡§∞‡§æ‡§π‡•Å‡§≤ ‡§¶‡•á‡§∂‡§Æ‡•Å‡§ñ ‡§µ ‡§™‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§¶‡•á‡§∂‡§Æ‡•Å‡§ñ)
</div>
<div class="error-message" id="participantNameError">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§ö‡•á ‡§®‡§æ‡§µ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á.</div>
</div>

<div class="form-group">
<label for="participantPhone">‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡§ï‡§æ‡§ö‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï <span class="required">*</span></label>
<input type="tel" id="participantPhone" name="participantPhone" maxlength="10" pattern="[0-9]{10}" required>
<div class="error-message" id="participantPhoneError">10 ‡§Ö‡§Ç‡§ï‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§Ç‡§ï ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§Ü‡§π‡•á.</div>
</div>

<button type="submit" class="submit-btn" id="submitBtn">‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§æ</button>
<div class="loading" id="loadingMsg">üì§ ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§∏‡•á‡§µ ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...</div>
</form>
</div>
</div>

<!-- ‡§∏‡§ï‡•ç‡§∏‡•á‡§∏ ‡§™‡•â‡§™‡§Ö‡§™ -->
<div id="successPopup" class="popup-overlay">
<div class="popup-content">
<button class="close-popup" onclick="closePopup()">&times;</button>

<div class="success-icon">‚úÖ</div>

<div class="success-title" id="successTitle">‡§´‡•â‡§∞‡•ç‡§Æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡§æ ‡§Ü‡§π‡•á</div>
<div class="success-subtitle" id="successSubtitle">‡§Ü‡§™‡§≤‡•Ä ‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§™‡§£‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ù‡§æ‡§≤‡•Ä ‡§Ü‡§π‡•á!</div>

<div class="pdf-section">
<div class="pdf-title">üìÑ ‡§ö‡§Ç‡§™‡§æ‡§µ‡§§‡•Ä ‡§Æ‡•ã‡§π‡•ã‡§§‡•ç‡§∏‡§µ ‡§¨‡•Ä‡§° 2026</div>
<div class="pdf-desc">
‡§Ø‡§æ ‡§∏‡§æ‡§Ç‡§∏‡•ç‡§ï‡•É‡§§‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∞‡§Æ‡§æ‡§ö‡•Ä <strong>‡§®‡§ø‡§Ø‡§Æ‡§æ‡§µ‡§≤‡•Ä ‡§°‡§æ‡§ä‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ</strong><br>
‡§∏‡•ç‡§™‡§∞‡•ç‡§ß‡•á‡§ö‡•Ä ‡§∏‡§∞‡•ç‡§µ ‡§Æ‡§æ‡§π‡§ø‡§§‡•Ä, ‡§®‡§ø‡§Ø‡§Æ ‡§µ ‡§µ‡•á‡§≥‡§æ‡§™‡§§‡•ç‡§∞‡§ï ‡§ú‡§æ‡§£‡•Ç‡§® ‡§ò‡•ç‡§Ø‡§æ
</div>
<a href="‡§ö‡§Ç‡§™‡§æ‡§µ‡§§‡•Ä ‡§Æ‡•ã‡§π‡•ã‡§§‡•ç‡§∏‡§µ ‡§¨‡•Ä‡§° 2026.pdf" download class="pdf-download-btn" target="_blank">
üì• ‡§®‡§ø‡§Ø‡§Æ‡§æ‡§µ‡§≤‡•Ä ‡§°‡§æ‡§ä‡§®‡§≤‡•ã‡§° ‡§ï‡§∞‡§æ
</a>
</div>
</div>
</div>

<script>
// ‚úÖ DATABASE URL ‡§∏‡§ï‡•ç‡§∞‡§ø‡§Ø - ‡§Ü‡§§‡§æ ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡•á‡§≤!
const DATABASE_URL = 'https://script.google.com/macros/s/AKfycbwamYaLdsT8oYCaXAOPPqHHsM8oOLQUzqqpx5N4q44PNnXOchj0GlR9EMgfrA5odTt8/exec';

function handleCompetitionChange() {
const competition = document.getElementById('competition').value;

const danceTypeField = document.getElementById('danceTypeField');
if (competition === 'dance') {
danceTypeField.classList.add('show');
document.getElementById('danceType').required = true;
} else {
danceTypeField.classList.remove('show');
document.getElementById('danceType').required = false;
document.getElementById('danceType').value = '';
hideConditionalFields();
}

const ageGroupField = document.getElementById('ageGroupField');
const ageGroupCompetitions = ['dance', 'solo_drama', 'singing', 'painting'];
if (ageGroupCompetitions.includes(competition)) {
ageGroupField.classList.add('show');
document.getElementById('ageGroup').required = true;
} else {
ageGroupField.classList.remove('show');
document.getElementById('ageGroup').required = false;
document.getElementById('ageGroup').value = '';
}

const songLyricsField = document.getElementById('songLyricsField');
const songCompetitions = ['dance', 'singing'];
if (songCompetitions.includes(competition)) {
songLyricsField.classList.add('show');
document.getElementById('songLyrics').required = true;
} else {
songLyricsField.classList.remove('show');
document.getElementById('songLyrics').required = false;
document.getElementById('songLyrics').value = '';
}
}

function handleDanceTypeChange() {
const danceType = document.getElementById('danceType').value;
const relationField = document.getElementById('participantRelationField');

if (danceType === 'family') {
relationField.classList.add('show');
document.getElementById('participantRelation').required = true;
} else {
relationField.classList.remove('show');
document.getElementById('participantRelation').required = false;
document.getElementById('participantRelation').value = '';
}
}

function hideConditionalFields() {
const relationField = document.getElementById('participantRelationField');
relationField.classList.remove('show');
document.getElementById('participantRelation').required = false;
document.getElementById('participantRelation').value = '';
}

function showPopup() {
document.getElementById('successPopup').classList.add('show');
document.body.style.overflow = 'hidden';
}

function closePopup() {
document.getElementById('successPopup').classList.remove('show');
document.body.style.overflow = 'auto';
}

function showLoading(show) {
const btn = document.getElementById('submitBtn');
const loading = document.getElementById('loadingMsg');
if (show) {
btn.disabled = true;
btn.textContent = '‡§∏‡•á‡§µ ‡§π‡•ã‡§§ ‡§Ü‡§π‡•á...';
loading.style.display = 'block';
} else {
btn.disabled = false;
btn.textContent = '‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§æ';
loading.style.display = 'none';
}
}

// üöÄ DATABASE ‡§á‡§Ç‡§ü‡§ø‡§ó‡•ç‡§∞‡•á‡§∂‡§® + ‡§µ‡•ç‡§π‡•Ö‡§≤‡§ø‡§°‡•á‡§∂‡§® (‡§™‡•Ç‡§∞‡•ç‡§£ ‡§§‡§Ø‡§æ‡§∞!)
document.getElementById('registrationForm').addEventListener('submit', function(e) {
e.preventDefault();
let isValid = true;

// ‡§°‡§æ‡§Ø‡§®‡•Ö‡§Æ‡§ø‡§ï required ‡§´‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏ ‡§ö‡•á‡§ï
const requiredFields = ['schoolName', 'competition', 'participantName', 'participantPhone'];

// ‡§ï‡§Ç‡§°‡§ø‡§∂‡§®‡§≤ ‡§´‡•Ä‡§≤‡•ç‡§°‡•ç‡§∏ ‡§ö‡•á‡§ï
const competition = document.getElementById('competition').value;
if (competition === 'dance') {
const danceType = document.getElementById('danceType').value;
if (!danceType) {
document.getElementById('danceType').classList.add('error');
document.getElementById('danceTypeError').style.display = 'block';
isValid = false;
}
if (danceType === 'family') {
requiredFields.push('participantRelation');
}
}

const ageGroupCompetitions = ['dance', 'solo_drama', 'singing', 'painting'];
if (ageGroupCompetitions.includes(competition)) {
requiredFields.push('ageGroup');
}

const songCompetitions = ['dance', 'singing'];
if (songCompetitions.includes(competition)) {
requiredFields.push('songLyrics');
}

requiredFields.forEach(field => {
const input = document.getElementById(field);
const error = document.getElementById(field + 'Error');
if (input.required && !input.value.trim()) {
input.classList.add('error');
if (error) error.style.display = 'block';
isValid = false;
} else {
input.classList.remove('error');
if (error) error.style.display = 'none';
}
});

const phone = document.getElementById('participantPhone').value;
if (phone && !/^\d{10}$/.test(phone)) {
document.getElementById('participantPhone').classList.add('error');
document.getElementById('participantPhoneError').style.display = 'block';
isValid = false;
}

if (isValid) {
const formData = new FormData(this);
const data = Object.fromEntries(formData);

showLoading(true);

fetch(DATABASE_URL, {
method: 'POST',
body: JSON.stringify(data),
headers: {
'Content-Type': 'application/json'
}
})
.then(response => response.json())
.then(result => {
console.log('‚úÖ Google Sheets ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§∏‡•á‡§µ ‡§ù‡§æ‡§≤‡•á:', result);
if (result.result === 'success') {
document.getElementById('successSubtitle').textContent = `‡§®‡•ã‡§Ç‡§¶‡§£‡•Ä ‡§∞‡•ã ${result.row} ‡§µ‡§∞ ‡§∏‡•á‡§µ ‡§ù‡§æ‡§≤‡•Ä!`;
}
showPopup();
this.reset(); // ‡§´‡•â‡§∞‡•ç‡§Æ ‡§ï‡•ç‡§≤‡§ø‡§Ø‡§∞ ‡§ï‡§∞‡§æ
})
.catch(error => {
console.error('‚ùå ‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä:', error);
document.getElementById('successTitle').textContent = '‡§§‡•ç‡§∞‡•Å‡§ü‡•Ä!';
document.getElementById('successSubtitle').textContent = '‡§™‡•Å‡§®‡•ç‡§π‡§æ ‡§™‡•ç‡§∞‡§Ø‡§§‡•ç‡§® ‡§ï‡§∞‡§æ ‡§ï‡§ø‡§Ç‡§µ‡§æ admin ‡§≤‡§æ ‡§∏‡§æ‡§Ç‡§ó‡§æ';
showPopup();
})
.finally(() => {
showLoading(false);
});
}
});

// ‡§∞‡§ø‡§Ö‡§≤-‡§ü‡§æ‡§à‡§Æ ‡§µ‡•ç‡§π‡•Ö‡§≤‡§ø‡§°‡•á‡§∂‡§®
document.querySelectorAll('input, select, textarea').forEach(input => {
input.addEventListener('blur', function() {
const error = document.getElementById(this.id + 'Error');
if (error && this.required && !this.value.trim()) {
this.classList.add('error');
error.style.display = 'block';
} else if (error) {
this.classList.remove('error');
error.style.display = 'none';
}
});
});

document.getElementById('participantPhone').addEventListener('input', function(e) {
this.value = this.value.replace(/[^0-9]/g, '');
});

// ‡§™‡•â‡§™‡§Ö‡§™ ‡§¨‡§æ‡§π‡•á‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡•á‡§≤‡•ç‡§Ø‡§æ‡§∏ ‡§¨‡§Ç‡§¶
document.getElementById('successPopup').addEventListener('click', function(e) {
if (e.target === this) closePopup();
});
</script>
</body>
</html>
